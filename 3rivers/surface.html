<!DOCTYPE html>
<html lang="en">
<head>
	<title>surface displacements</title>
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
	<meta name="description" content="surface displacements by sheila packa" />
	<meta name="author" content="kathy mctavish and sheila packa">
	<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="manifest" href="/manifest.json">
	<script type="application/ld+json">
		{
			"@context": "http://schema.org",
			"@type": "WebPage",
			"name": "surface displacements",
			"breadcrumb": "mctavish.io > blue atlas > surface displacements",
          		"url": "https://www.mctavish.io/blueatlas/surface.html",
			"description": "blueatlas ::: surface displacements ::: text by sheila packa",
			"datePublished": "2021-02-03",
          		"image": "https://www.mctavish.io/apple-touch-icon.png",
			"author": "https://mctavish.io/bio.html",
			"license": "http://creativecommons.org/licenses/by-nc-sa/3.0/us/deed.en_US"
		}
	</script>
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-0989MECNZV"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'G-0989MECNZV');
	</script>
	<link rel="stylesheet" href="../css/fieldnotes.css"/>
	<style>
		html {
			font-family: 'Trebuchet MS', Tahoma, Verdana, Helvetica, Arial, Tahoma, 'Trebuchet MS', sans-serif;
			font-family: var(--sans);
		}
		main ul.stanza li {
			font-weight: normal;
		}
		main a:before {
			color: #fcfbe3;
			color: var(--warmgray);
			content: ". ";
		}
		main a:after {
			color: #fcfbe3;
			color: var(--warmwhite);
			content: " .";
		}
		nav ul li a:hover {
			color: var(--blue);
			fill: var(--blue);
			border-bottom: solid 8px #fcfbe3;
			border-bottom: solid 8px var(--warmwhite);
		}
		nav ul li.active a {
			border-bottom: solid 8px var(--blue);
		}
		div.textContent > p {
			line-height: 1.9;
		}
	</style>
</head>
<body id="top" >
<div id="subtextframe" class="frame zlowest"></div>
<div id="svgframe" class="frame zlow"><svg xmlns="http://www.w3.org/2000/svg" id="svg" class="frame"></svg></div>
<div id="wordframe" class="frame z0"></div>
<!-- <div id="controlframe" class="frame zhighest"></div> -->
<div id="contentframe" class="absolute zhighest">
<div id="mainflex">
<main id="main" class="compress" data-state="compressed">	
<header>
	<h1>surface displacements</h1>
	<h2>sheila packa</h2>
</header>
<!-- <ul data-role="narrator" class="info compress">
	<li class="title typewriter" title="telegraph" id="telegraph"></li>
	<li class="title  typewriter" title="clock" id="clock">here | now</li>
</ul> -->
<ul data-role="narrator" class="info expand">
	<li><a href="#" id="soundlink" class="corelink">turn on sound</a> <span class="typewriter small" title="telegraph" id="telegraph"></span></li>
	<li><a href="index.html" id="homelink" class="corelink">return home</a></li>
</ul>
<article class="poem" >
	<div class="textContent">
		<p>
^<br/>
The minerals whisper: iron, manganese,<br/>
copper, nickel, platinum, and titanium.<br/>
On the Laurentian Divide, one river falls over stones<br/>
to Hudson Bay. Another falls south through fields<br/>
to the Mississippi. The third river goes east<br/>
through the Great Lakes and St. Lawrence Seaway.<br/>
</p><p>
^<br/>
Handfuls of water. A body of sea smoke, of wind,<br/>
a body of motion, an ocean without salt.<br/>
In the benthos, tailings from taconite mines.<br/>
In the basin, shipwrecks and broken bottles and sunken<br/>
barrels and bodies the lake has claimed.<br/>
</p><p>
^<br/>
On a bridge made of paper, my voice turns to vapor.<br/>
On a bridge made of iron and steel<br/>
I veer between traction and black ice<br/>
wander through beams and woven branches<br/>
follow the rain in its tracks through roots and excavations.<br/>
I cross before, almost, never,<br/>
the thunder of interior dialogues<br/>
through heavy machinery.<br/>
</p><p>
^<br/>
Practicing the old art,<br/>
my father once crossed the slope<br/>
holding a slender branch, calling the water.<br/>
Divining. Now, in a dark room, a daughter holds<br/>
a cello to her breast. In the instrument is the old tree.<br/>
The wood turns toward harmonics.<br/>
The bow rises, glides, floats above the bridge.<br/>
Calls of the geese overhead vibrate<br/>
against the windowpane. Her fingers tremble<br/>
like strings and the water answers.<br/>
A car comes down the street. The driver<br/>
locked in a dream, rolls down the hill. Slower.<br/>
Still. The branch dips and the invisible flows<br/>
into containers. The forked branch<br/>
didn’t know it had lost its root.<br/>
It only had yearning.<br/>
</p><p>
^<br/>
I call the rivers in the forgotten language<br/>
call the Sawtooth Mountains,<br/>
forested slopes with snowshoe hares and deer beds<br/>
and bears’ dens and lynx.<br/>
I call shore’s perpetual threshold.<br/>
In the city, in a house, I call a moth<br/>
caught between two panes of glass.<br/>
To catch it will damage the wings.<br/>
To leave it means it will perish.<br/>
I write of the trapped and desperate flight.<br/>
</p><p>
^<br/>
No one can follow the map of the bees.<br/>
Their business is in every direction,<br/>
from tiger lilies into the hives to the chives<br/>
to other realms with heads of clover.<br/>
Apple blossoms. In the lavender colonnades<br/>
of mint through the rooms of June<br/>
into purple irises, yellow daylilies, deep inside<br/>
delicate tunnels with hardly a foothold<br/>
hidden in clouds of pollen.<br/>
</p><p>
^<br/>
Along Fourth Street, the rapids climb a bed of stones<br/>
amid revelers, but alone<br/>
over a steep slope with winter’s melt<br/>
below a bridge, a bird on a wire, hidden by trees<br/>
past a canvas tent and pillow with nobody home.<br/>
The constellation of Orion<br/>
roams through clouds and goes on a shifting path<br/>
with the sleepless river, plunging deep.<br/>
</p><p>
^<br/>
A river catches herself as she is falling.<br/>
She is a cloud that breaks open and the earth<br/>
that holds the seed as it is broken.<br/>
The farther she has gone, the closer she comes.<br/>
The more she is lost, the more she has found.<br/>
Her body is formed by what she touches.<br/>
Blind, she sees. Deaf, she hears.<br/>
The wind is her breathing. In her emptiness<br/>
she fills. In her erasures, she is writing.<br/>
The colder the air, the deeper she goes.<br/>
The more it rains, the more rain she carries.<br/>
The more stones in her path, the more that she laughs.<br/>
</p><p>
^<br/>
A blueprint on a scroll of paper: a bridge is built<br/>
for floating on air, but heavily, on pylons<br/>
wading in plaits of current.<br/>
Passengers go between steel cables and arches<br/>
and bows, through quicksilver and mercury and yellow.<br/>
The homeless meander below.<br/>
This bridge, made to join, to cast a permanent shadow.<br/>
This bridge, made to resist wind and gravity.<br/>
This bridge made, above all, to echo and hum.<br/>
</p><p>
^<br/>
Between steel rails on ramps of forward and back<br/>
I merge in the traffic. In the union of opposing forces<br/>
accelerating through ribs of steel and spider webs.<br/>
Once in a dark kitchen, there was an old woman sifting.<br/>
The flour falls through the screen.<br/>
Once the oil of the lamp climbed a wick<br/>
lit a small conflagration above the round oak table<br/>
in a circle of chairs, a murmuring, a call for grace.<br/>
The roar of a flame mingles with<br/>
the chink of forks and knives.<br/>
A man, injured in the mine, lies in his bed.<br/>
On the bridge, red brake lights. Cars surge<br/>
past a blur of years suspended in fine dust.<br/>
The bridge sways.<br/> 
Wheels stir the filaments, litter drifts<br/>
where words can’t reach.<br/>
</p><p>
^<br/>
On foot. On the span, falling without falling.<br/>
Say I cross the bridge,<br/>
although it is windy and missteps are fatal.<br/>
Say clouds cover the moon and I cross borders<br/>
without knowing. Say the wind blows at my clothes,<br/>
strips me of my protection<br/>
and I lose my footing. Say I fall through the night<br/>
break through the surface in a cold fire.<br/>
Say I vacate — abandon my saying,<br/>
withdraw my breath, take my hands from my hands,<br/>
twist from my shoulders. Say I walk or am carried<br/>
to the place before birth, the place where the sun<br/>
comes as a ribbon of heat.<br/>
Say I arrive in another language,<br/>
wings lifting and landing,<br/>
to speak with a wild tongue.<br/>
</p><p>
^<br/>
Here, a sketch of shore. The pencil draws<br/>
a water line, a vanishing point. In graphite,<br/>
wings of a bird in flight. Two more curves,<br/>
parabolas that float. Next, between the boat’s ribs, a bench.<br/>
A wave on the water’s surface — not much — just grasses<br/>
bent beneath a wind. Then a shadow, three-dimensional.<br/>
There’s a need to leave things out. In the silence<br/>
those that peer uneasily, advance, and then withdraw.<br/>
Granite outcroppings — broken by ice.<br/>
Already the currents pull and the hull lifts and sways,
restless. I render this as if I were — disembarked —<br/>
without a body, without a shadow, a current of air.<br/>
</p><p>
^<br/>
Jointed and broken, the skeletal hand raked the beach.<br/>
It drifted and reached, five long finger bones bleached<br/>
and worn clean. A hand and nothing else.<br/>
Was it a bear? A deceased? Wind blew from the northeast.<br/>
No other bones to be seen — no other walkers.<br/>
Grass was chased over the dunes. Trees leaned<br/>
away from the sea. Clouds lifted in each crest.<br/>
Pebbles unsettled the bottom, rode through the knuckles<br/>
and left no print. The water was sky,<br/>
clear and tinted with old blood or rust, rot of fish<br/>
and soft ice. Inside were rivers and constellations,<br/>
storm wrecks and lives ground into splinters.<br/>
</p><p>
^<br/>
In the hollow of the body, a crow comes with a sharp beak.<br/>
The door of the chamber opens and closes.<br/>
I cannot translate this well. The arteries are open.<br/>
There is nothing apparent, the same pressure as always.<br/>
Life goes on. The crow grows a long shadow<br/>
and takes short flights along low branches.<br/>
I walk under the trees when the days are short.<br/>
The crow flaps its rough wings and squawks.<br/>
This what you call death, she says, I eat.<br/>
</p><p>
^<br/>
Here, bulbs are forced to bloom. They are planted<br/>
in the ground before winter.<br/>
Here, mouths are filled with soil. Those<br/>
who entered the tomb and grew roots<br/>
and walked in cold layers<br/>
to draw the minerals out. Those are the ones<br/>
who yield to the shovel and receive the bones,<br/>
those are the ones who weave a net and lift the stones.<br/>
There are those who seep or are swept<br/>
into the underground river, who decay and are kept and yet,<br/>
rise in a tender green stem to carry new buds.<br/>
</p><p>
^<br/>
I walk over the narrow holes of diamond drillers.<br/>
Above the horizon, seagulls draw arcs in flight.<br/>
In the morning on shore, sandpipers run on wet sand.<br/>
Feathers lift and fall, driven by wind’s breath.<br/>
I find, half buried in the sand, lost thresholds.<br/>
Scrolls of birchbark, small arches, angles<br/>
and grayed frames of doors that once opened and closed.<br/>
</p><p>
^<br/>
In the city are those who cannot be traced.<br/>
In the city of good air and bad are ghost cities,<br/>
old cities, cities of war with lamps that no longer burn<br/>
but pierce the tongue, cities that write in smoke<br/>
in a book open to depredations and<br/>
cities that reassemble endings in a dark room<br/>
of unknown dimensions, suspend belief,<br/>
upend the fields. In the city, I affix the disappeared<br/>
to sheets of onion skin with stains and smudges.<br/>
Trans-literate. Splice the image.<br/>
</p><p>
^<br/>
My hand disappears over the horizon<br/>
and pulls up the sea for cover.<br/>
I travel as a cloud for miles, citizen of a bruised sky.<br/>
I cross the tides to climb the coast<br/>
follow roads to the interior<br/>
and rivers flow over my banks.<br/>
My border spans the continents, and my spine<br/>
grows into a mountain range.<br/>
My arms can’t carry the load.<br/>
The cast off, the rejected, the driven<br/>
and defenseless. Everywhere they come forth,<br/>
everywhere off course.<br/>
</p><p>
^<br/>
Seagulls wheel. The hidden drifts.<br/>
Freighters and ships embark<br/>
in the harbor, trembling with heat,<br/>
breathe cold vapor<br/>
and speak in the language of horns.<br/>
In their wake, the undocumented<br/>
travel with currents that carry the vessel.<br/>
May it not sink.<br/>
May they not be detained or taken by claw or beak<br/>
or roll like driftwood on the bottom of the sea<br/>
but rise to their feet and climb the beach.<br/>
</p><p>
^<br/>
To swing like a branch in a storm<br/>
whose edges are accelerating,<br/>
to heave with the waves in the slant of hurled rain.<br/>
To hear the thump and crack in the too-early dark,<br/>
see the electric pour into a hollow.<br/>
To find a vein and excavate,<br/>
see absences in the landscape.<br/>
</p><p>
^<br/>
Strangers come to the edge and double back<br/>
because vessels are small and voices can carry,<br/>
because children are heavy and nothing is cheap,<br/>
because destinations are far and some roads lead nowhere<br/>
because fences are one thing and rivers another,<br/>
because rocks rise beneath the feet<br/>
and holes can be deep, because we look<br/>
at the water and don’t see any crossings,<br/>
because journeys disappear and time erases the map,<br/>
because words cloud the distance<br/>
between us, because no matter how many have made it<br/>
or how many have foundered, they still come,<br/>
because what falls from our grasp lands in the past,<br/>
because when the wind rises, waves make mountains to climb.<br/>
</p><p>
^<br/>
Difficult, to move a border. To clear a forest.<br/>
Difficult even to open the furrows<br/>
in the field. We lift the seeds and scatter.<br/>
If we don’t cut every year, the forest will take over.<br/>
Imagine a beaver on the sandbar of Lake Superior.<br/>
She slides into the surf and emerges<br/>
with a piece of driftwood, in that heavy surf,<br/>
and lays the first beam of her house.<br/>
</p><p>
^<br/>
In the forest, most seeds flung by wind or wings<br/>
never sprout. Seedlings compete for the smallest bit of sun.<br/>
A white pine, one hundred feet tall,<br/>
can be felled by gooseberries.<br/>
Slash and burn feeds a coming year’s crop of blueberries.<br/>
The forest thrives on waste. Dark wings flutter.<br/>
A red-headed woodpecker knocks<br/>
on the houses of the dead and pulls the worms out.<br/>
</p><p>
^<br/>
The center was never a destination.<br/>
Inside the fallen trunks are roads — circles around circles.<br/>
Insects in the canyons of bark travel with their bundles,<br/>
fall into the dark rooms of the camber,<br/>
get caught in rivers of sap turning to amber.<br/>
Anchored in the rot where so much thrives —<br/>
lichen reaches up to sketch on the rocks.<br/>
</p><p>
^<br/>
A catbird hidden in the branches<br/>
whistles and squeaks and whines and mews.<br/>
A catbird says whatever it hears.<br/>
Short notes turn into phrases, are repeated.<br/>
She can see over the Divide a river of clouds.<br/>
She can hear underground, in the rivers that scour the drifts,<br/>
a moneyed sound.<br/>
</p>
	</div>
</article>

<audio loop=true id="audio1" src="https://storage.googleapis.com/www.blueboatfilms.com/sound/IVdfd.mp3" type="audio/mpeg">Your browser does not support the audio tag.</audio>

</main>
</div>
</div>
<div id="hidetext"><a id="hidetextlink" href="#" title="hide text">-</a></div>

</body>
<script src="../code/velocity.min.js"></script>
<script src="../code/kefir201911.min.js"></script>
<!-- <script src="code/atlasabsence.js"></script> -->
<script>
let width = window.innerWidth, height = window.innerHeight;
let min = Math.min(width, height), max = Math.max(width, height);
let version = (min < 680 || max < 980) ? "small" : "large";
let v = version === "small" ? 0 : 1;
let z = {};
z.tools = {
	randominteger: (min, max) => {
		return Math.floor( min + Math.random()*(max-min));
	},
	logmsg: function(msg) {
		try { 
			console.log("### ::: " + msg); 
		}
		catch(err) { z.tools.logerror(err) }
	},
	logerror: function(error) {
		try { console.log("rusty error ... " + error); }
		catch(err) {}
	},
	randomhighharmonic: () => {
		let multipliers = [10.0, 12.5, 13.33, 15, 20];
		return multipliers[ z.tools.randominteger( 0, multipliers.length) ];
	},
	randomharmonic: () => {
		let multipliers = [5, 7.5, 10.0, 12.5, 13.33, 15, 20];
		return multipliers[ z.tools.randominteger( 0, multipliers.length) ];
	},
	randomlowharmonic: () => {
		let multipliers = [5, 7.5, 10.0, 12.5, 13.33, 15, 20];
		return multipliers[ z.tools.randominteger( 0, multipliers.length) ]/2;
	},
	randomkey: (object) => {
		let keys = Object.keys(object);
		let key = keys[z.tools.randominteger(0,keys.length)];
		// z.tools.logmsg("key = " + key);
		return key;
	},
	datestr: (date, options) => {
		if(options===undefined) options = {year: "numeric", month: "2-digit", day: "numeric", hour12: true, hour: "2-digit", minute: "2-digit", second: "2-digit"};
		return date.toLocaleTimeString("en-US", options);
		//new Date().toLocaleTimeString("en-US", {year: "numeric", month: "2-digit", day: "numeric", hour12: true, hour: "2-digit", minute: "2-digit", second: "2-digit"});
	},
	togrid: (min=1, max=1, x=1, ndivisions=1) => {
		let dx = Math.floor( (max-min) / ndivisions );
		return Math.floor( ( x-min+dx/2)/dx )*dx + min;
	},
};
//core elements
z.elements = ( () => {
	return {
		body: { el: document.querySelector("body") },
		main: { el: document.querySelector("main") },
		// clock: { el: document.querySelector("#clock") },
		// telegraph: { el: document.querySelector("#telegraph") },
		svg:  { el: document.querySelector("#svg") },
		frames: ["subtextframe", "svgframe", "wordframe", "contentframe"].reduce( (acc, id) => {
			z.tools.logmsg("create frame element ::: " + id);
			acc[id] = { el: document.querySelector("#"+id) };
			return acc;
		}, {}),
	}
})()
	
z.streams = {
	clock: ( () => {
	let dt = 1;
	let date0 = new Date();
	let t0 = Math.floor(date0.getTime()/1000);
	let state0 = { dt: dt, count: 0, date: date0, t: t0, t0: t0 };
	return Kefir.withInterval( dt*1000, emitter => { emitter.emit( { date: new Date() } ) })
			.scan( (state, e) => { 
				state.date = e.date;
				state.t = Math.floor(e.date.getTime()/1000);
				state.count = state.count + 1;
				return state;
			}, state0  )
	})( ),
	dimensions: ( () => {
		let dt = .4;
		const ngrids=[2,2], npasts=[0,0];
		let state0 = { dt: dt, count: 0,
			grid: { nrows: ngrids[v], ncols: ngrids[v], dx: Math.floor(width/ngrids[v]), dy: Math.floor(height/ngrids[v]), sw: 12, pastn: npasts[v] },
			width: width, height: height, 
			max: max, min: min, 
		};
		return Kefir.fromEvents(window, "resize").throttle(dt*1000)
			.scan( (state,e) => {
				state.width = window.innerWidth;
				state.height = window.innerHeight;
				state.max = Math.max(state.width, state.height);
				state.min = Math.min(state.width, state.height);
				state.grid.dx = Math.floor(state.width/state.grid.ncols);
				state.grid.dy = Math.floor(state.height/state.grid.nrows);
				state.grid.sw = Math.floor(Math.max(state.grid.dx*.03, state.grid.dy*.03, 4));
				return state
			}, state0) 
	})( ),
};

z.draw = z => {
	let ntimings = 32;
	let dtiming = Math.floor(400/ntimings);
	const timings = [...Array(ntimings).keys()].reduce( (acc, j) => {
		let duration = 500+(j*dtiming);
		acc[j] = [duration, 900-duration];
	return acc;
	}, []);
	// const timings = [ [380,600], [400,580], [480,500], [500,480], [580,400], [600,380], [640,340], [680,300], [700,280], [740,240], [780,200], [800,180], [840,140], [880,100]];
	// const timings = [ [180,800], [200,780], [280,700], [300,680], [380,600], [400,580], [480,500], [500,480], [580,400], [600,380], [640,340], [680,300], [700,280], [740,240], [780,200], [800,180], [840,140], [880,100]];
	// z.streams["clock"].onValue( e => {
	// 	z.elements["clock"].el.innerHTML = z.tools.datestr(new Date(e.t*1000));
	// });

//controls
( () => { 
	const soundlink = document.querySelector("#soundlink");
	const telegraph = document.querySelector("#telegraph");
	const audio1 = document.querySelector("#audio1");
	const baseurl = "https://storage.googleapis.com/www.blueboatfilms.com/sound/";
	const tracks = [
		// {title: "holy fool", url: "holyfoolpodcast.mp3", duration: 1720},//28:43
		// {title: "ocean | wind | grief", url: "oceanwindgriefpodcast.mp3", duration: 1870},//31:18
		// {title: "nyx", url: "oceanwindgriefpodcast.mp3", duration: 1280},//21:26
		{title: "ahab's dream", url: "ahabsdreampodcast.mp3", duration: 1220},//20:24
	];
	let currenttrack = 0;
	let soundplaying = false;
	let track = tracks[0];
	audio1.src = baseurl + track.url;
	Kefir.fromEvents(soundlink, "click").onValue( e => {
		z.tools.logmsg("play sound !");
		if(!soundplaying) { 
			try {
				// currenttrack = (currenttrack+1)%tracks.length;
				// let track = tracks[currenttrack];
				// audio1.src = baseurl + track.url;
				// let starttime = z.tools.randominteger(0,track.duration);
				// let starttime = 0;
				// audio1.currentTime = starttime;
				audio1.play();
				z.tools.logmsg("playback resumed");
				telegraph.innerHTML =  "<i>(currently playing ::: " + track.title + ")</i>";
				soundplaying = true;
				soundlink.innerText = "turn off sound";
				soundlink.classList.add("active");
			} catch(e) { z.tools.logerror("dashboard ::: resumeaudio " + e) } 
		}
		else { 
			try {
				document.querySelector("#audio1").pause();
				telegraph.innerHTML =  " . . . >";
				soundplaying = false;
				soundlink.innerText = "turn on sound";
				soundlink.classList.remove("active");
			} catch(e) { z.tools.logerror("dashboard ::: suspendaudio " + e) }
		}
	});
})();

	const playlist = [
		//primary colors
		// ["#fcfbe3", "#191918"], //"warmbw",
		// ["#9a0000", "#fcfbe3", "#191918"], //"warmbwred",
		// ["#fcfbe3", "#191918"], //"warmbw",
		// ["#ffcc00", "#fcfbe3", "#191918"], //"warmbwyellow",
		// ["#fcfbe3", "#191918"], //"warmbw",
		// ["#006699", "#fcfbe3", "#191918", "#4b4b44"], //"warmbwbluegray",
		// ["#006699", "#fcfbe3", "#191918", "#004488"], //"warmbwbluegray",
		// ["#006699", "#fcfbe3", "#191918"], //"warmbwblue",
		// ["#006699", "#006666", "#fcfbe3", "#191918"], //"warmbwbluegreen",
		//lake superior
		// ["#CCD8EA", "#CBD3DA", "#818794", "#5B5756", "#413A36", "#413B30"], //lake superior
		["#BEC4D0", "#C9CDD8", "#7E808C", "#282730", "#54545F", "#A5ACBF", "#AAA9A5", "#FBFBFF", "#535763", "#211F2B"], //canada snow
		["#C7CED8", "#C2C5CC", "#9C9A9D", "#454140", "#454140", "#383330", "#473D3B", "#767B7F"], //lake superior
		["#4E505D", "#4F525A", "#808394", "#A4AAB8", "#DEE5F7", "#E6EFFD"], //ice snow river
		["#8F97A2", "#5A575E", "#666A79", "#474C58", "#8790A0", "#B5C2D2", "#4E5043", "#181919"], //winter blue green tree
		["#BCBFC4", "#B9BABE", "#9FA0A5", "#98999E", "#72757A", "#63686E", "#555F64", "#505C60"], //subtle lake surface grays
		["#093F68", "#005A98", "#000112", "#E8ECF5", "#A8B5C8", "#538096", "#45758A", "#234E64", "#001929", "#0A4761", "#00132A", "#095A74", "#033A56", "#0C6180"], //lake superior (very blue)
		["#F2F4F8", "#90A2B1", "#475360", "#4E3728", "#B95F2E", "#4C5B70", "#678296", "#293E45"], //lake superior
		["#F6E8DD", "#BC8860", "#3B3735", "#405D68", "#041D24", "#606F6D", "#26383F", "#2F4D58", "#2F4652", "#657678", "#5A5858", "#19323D", "#837C75", "#854529"], //lake superior (blue with orange)
		["#839FB6", "#AEB7BF", "#A3A6A9", "#797B7B", "#3D4048", "#393A3B", "#688896", "#7C8FAA", "#3F5468"], //lake superior
		["#F8FCFD", "#A2B2CC", "#7A8193", "#6D6B51", "#5A583A", "#2C2D24", "#7D92AE", "#615F62", "#5C6C6C"], //lake superior
		["#485654", "#3D4949", "#7B8F9D", "#8695A3", "#8C99A1", "#82959C", "#839298", "#768387", "#738187", "#637074", "#738891", "#566871", "#BCCCD0", "#8698AA", "#515E65", "#35404E", "#566367"], //lake superior
		//water
		["#C5E0FB", "#F3FBFD", "#52615E", "#18191B", "#90969A", "#27292E", "#A7C2E0", "#6B838D", "#7E9889", "#1B1E3E", "#110F24"], //waterfall
		["#7086A6", "#6E7C78", "#7895BF", "#424639", "#4A6B99", "#7389A3", "#4B607F", "#4F688A", "#263040", "#283247", "#3D536F", "#222126", "#948F84"], //lake (blue)
		["#969599", "#796C6C", "#675855", "#635049", "#79685C", "#6E5340", "#515054", "#6A5848", "#968F8A", "#4B4A4F", "#595453"], //lake bottom browns
		["#757260", "#616664", "#626562", "#E0E9F5", "#BFCEDF", "#A7ADB6", "#636A6C", "#5D5543", "#49402C", "#849BB4", "#5B422D", "#393E41", "#424544"], //pond
		["#BFB9A8", "#C3B481", "#6D604B", "#8E7A6E", "#8097AE", "#3B2F30", "#7F97AE"], //lake sand
		["#C3D3E1", "#A5B3BF", "#E5D1B7", "#E7D093", "#8C6F54", "#8CA0B1"], //lake sand
		["#696566", "#706E6F", "#79796E", "#AFB199", "#898A7C", "#676357", "#C8CAC9", "#41382C"], //moss
		["#E8DFD7", "#DDD6D0", "#8C8780", "#51504A", "#A9A69F", "#D2CCC4", "#444440", "#66685F", "#393B34", "#20211A", "#67665F"], //woods winter snow

		["#AAAAAC", "#7C7C7C", "#747371", "#525251", "#797372", "#343632", "#0C0E0B", "#42433E", "#434544", "#6C6D68"], //winter
		["#494B4A", "#494B4A", "#534B41", "#373934", "#8C887F", "#504531", "#201F19", "#5F5E5D", "#604F3D", "#5A5A57", "#30322C", "#211D15", "#696964", "#1F231B", "#393B36", "#554A47"], //winter
		["#525762", "#4A525F", "#5D6471", "#929DAE", "#AAB5CC", "#A5B0C3", "#353943", "#545F72"], //slate winter sky
		["#A8B0C3", "#9599A7", "#242222", "#292724", "#49484B", "#ADAEB3", "#2B2328", "#3F3F4F"], //canada winter
		["#414141", "#2B2B2A", "#615146", "#634D3B", "#947049", "#525B68", "#EDE8DB", "#2B261B", "#515262"], //outdoors fall
		// ["#C3C6CF", "#5775B0", "#837C7D", "#7A535B", "#593B3B", "#413B3F"], //boots jeans rock (nice blues browns)
		["#0D0F0E", "#767577", "#9AA6B4", "#A2AFB6", "#656863", "#3C3E3C", "#5F5B50", "#38301B", "#636E76", "#82949F", "#4C5A5C", "#302D26", "#A39E8E"], //outdoors fall (nice blues browns)
		
		// //birdland
		// ["#163341", "#172F47", "#4477A8", "#2A4A69", "#52779B", "#000000", "#384B60", "#1F3350", "#153A69", "#153559", "#9D9990", "#9D9990", "#181E21", "#0C1D32", "#706959", "#D6D3CE", "#534E48", "#3E5766", "#222E34", "#BBB4A4", "#7C7D7F"], //birdland

	];
	z.streams["color"] = ( dt => {
		let date0 = new Date();
		let t0 = Math.floor(date0.getTime()/1000);
		let state0 = { 
			dt: dt, count: 0,
			choices: playlist[ Math.floor(t0/dt)%playlist.length ]
		};
		return z.streams["clock"].filter( e => e.t%dt===0 )
			.scan( (state, e) => { 
				state.choices = playlist[ Math.floor(e.t/dt)%playlist.length ];
				// state.choices = playlist[ Math.floor(state.count)%playlist.length ];
				state.count = state.count + 1;
				return state;
			}, state0  )
	})( 38 );
	
	z.streams["draw"] = Kefir.combine([z.streams["clock"]], [z.streams["dimensions"], z.streams["color"]], (clock, dimensions, color) => { return {clock:clock, dimensions:dimensions, color:color} })
		.scan( (state, e) => { 
			state.clock = e.clock;
			state.dimensions = e.dimensions;
			state.color = e.color;
			state.count = state.count + 1;
			z.tools.logmsg("color.choices = " + e.color.choices);
			return state;
	}, {clock:{t:0}, dt:1}  );

	//box
	( dt => {
		const element = document.createElementNS("http://www.w3.org/2000/svg", "rect");
		element.setAttributeNS(null, "id", "box");
		element.setAttributeNS(null, "class", "shape square");
		z.elements["svg"].el.appendChild(element);
			
		z.streams["draw"].filter(e => e.clock.t%dt===0).onValue( e => {
			try {
				let color = e.color.choices[z.tools.randominteger(0, e.color.choices.length)];
				Velocity({	
					elements: element, 
					properties: { fillOpacity: 1.0, strokeOpacity: 0.0, fill: color, width: e.dimensions.width, height: e.dimensions.height },
					options: { duration: 2000,  delay: 0, easing: "easeInOutQuad" },
				});
			} catch(err) { z.tools.logerror("box animation ::: " + err ) }
		})
	})(5);


	//main
	( dt => {
		const element = document.querySelector("main");
		const bgcolors = ["rgba(25, 25, 24, 0.4)", "rgba(25, 25, 24, 0.6)", "rgba(25, 25, 24, 0.9)", "rgba(252, 251, 227, 0.4)", "rgba(252, 251, 227, 0.9)", , "rgba(252, 251, 227, 0.6)"]
			
		// const warmblacktints = ["#191918", "#2f2f2f", "#464646", "#5e5e5d", "#757574", "#8c8c8b", "#a3a3a2", "#babab9", "#d1d1d0", "#e8e8e7", "#ffffff", "#fcfbe3", "#e2e1cc", "#c9c8b5", "#b0af9e", "#979688", "#7e7d71", "#64645a", "#4b4b44", "#32322d", "#191916", "#000000"];
		const warmblacktints = ["#191918", "#fcfbe3", "#000000"];

		z.streams["draw"].filter(e => e.clock.t%dt===0).onValue( e => {
			try {
				let count = e.clock.t/dt;
				let color = e.color.choices[z.tools.randominteger(0, e.color.choices.length)];
				Velocity({	
					elements: element, 
					properties: { backgroundColor:  color, backgroundColorAlpha: z.tools.randominteger(0.1,5)/10},
					options: { duration: 1200,  delay: 0, easing: "easeInOutQuad" },
				});

			} catch(err) { z.tools.logerror("main animation ::: " + err ) }
		})
	})(9);

	//circle 1
	( dt => {
		const nelements=[[...Array(8).keys()],[...Array(16).keys()]][v];
		const elements = nelements.reduce( (acc, id) => {
			z.tools.logmsg("create line element ::: " + id);
			let el = document.createElementNS("http://www.w3.org/2000/svg", "circle");
			el.setAttributeNS(null, "id", "circle_"+ id);
			el.setAttributeNS(null, "class", "shape circle");
			z.elements["svg"].el.appendChild(el);
			acc[id] = { el: el };
		return acc;
		}, []);
		const n = elements.length;
		const drawings = [
			e => {
				try {
					let count = e.clock.t/dt;
					let timing = timings[z.tools.randominteger(0,timings.length)];
					let duration = dt*timing[0]*n, delay = z.tools.randominteger(0, dt*timing[1]*n);
					let element = elements[count%n];
					let cy = Math.floor(e.dimensions.height/2);
					let cx = z.tools.randominteger(0, e.dimensions.width);
					let radius = z.tools.randominteger(e.dimensions.min/10, e.dimensions.max/2);
					// z.tools.logmsg("circle 1 cx= "+cx+" cy= " + cy + " radius = " + radius);
					let color = e.color.choices[z.tools.randominteger(0, e.color.choices.length)];
					Velocity({	
						elements: element.el,
						properties: { fillOpacity: 1.0, strokeOpacity: 0.0, stroke: color, fill: color, cx: cx, cy: cy, r: radius },
						options: { duration: duration,  delay: delay },
					});
				} catch(err) { z.tools.logerror("line animation 1 ::: " + err ) }
			},
			
		];
		z.streams["draw"].filter(e => e.clock.t%dt===0).onValue( e => {
			drawings[Math.floor(e.clock.t/(dt*elements.length))%drawings.length](e);
		})
	})(1);

	//lines 1
	( dt => {
		const nelements=[[...Array(16).keys()],[...Array(32).keys()]][v];
		const elements = nelements.reduce( (acc, id) => {
			z.tools.logmsg("create line element ::: " + id);
			let el = document.createElementNS("http://www.w3.org/2000/svg", "line");
			el.setAttributeNS(null, "id", "line1_"+ id);
			el.setAttributeNS(null, "class", "shape line");
			z.elements["svg"].el.appendChild(el);
			acc[id] = { el: el };
		return acc;
		}, []);
		const n = elements.length;
		const drawings = [
			e => {
				try {
					let count = e.clock.t/dt;
					let timing = timings[z.tools.randominteger(0,timings.length)];
					let duration = dt*timing[0]*n, delay = z.tools.randominteger(0, dt*timing[1]*n);
					let element = elements[count%elements.length];
					// elements.forEach( (element, j) => {
						// let cy = z.tools.randominteger(e.dimensions.height/2,e.dimensions.height);
						let ystart = count%2===0 ? e.dimensions.height*2 : -1.0*e.dimensions.height;
						let yend = count%2===1 ? e.dimensions.height*2 : -1.0*e.dimensions.height;
						let color = e.color.choices[z.tools.randominteger(0, e.color.choices.length)];
						element.el.setAttribute("stroke", color);
						element.el.setAttribute("x1", 0); element.el.setAttribute("x2", e.dimensions.width);
						element.el.setAttribute("y1", ystart); element.el.setAttribute("y2", ystart);
						element.el.setAttribute("strokeOpacity", z.tools.randominteger(0.1,8)/10);
						Velocity({	
							elements: element.el,
							properties: { strokeOpacity: 1.0, stroke: color, strokeWidth: z.tools.randominteger(12,e.dimensions.min/2), y1: yend, y2: yend },
							options: { duration: duration,  delay: delay },
						});
					// })
				} catch(err) { z.tools.logerror("line animation 1 ::: " + err ) }
			},
			
		];
		z.streams["draw"].filter(e => e.clock.t%dt===0).onValue( e => {
			drawings[Math.floor(e.clock.t/(dt*elements.length))%drawings.length](e);
		})
	})(1);


};
//controls
( () => { 
	const hidetextlink = document.querySelector("#hidetextlink");
	let texthidden = false;
	Kefir.fromEvents(hidetextlink, "click").onValue( e => {
		if(texthidden) {
			z.elements["main"].el.style["opacity"] = 1.0;
			hidetextlink.innerText = "-";
			hidetextlink.title = "hide text";
			texthidden = false;
		}
		else {
			z.elements["main"].el.style["opacity"] = 0.0;
			hidetextlink.innerText = "+";
			hidetextlink.title = "show text";
			texthidden = true;
		}
	});
})();
window.addEventListener('load', e => {
  z.draw(z);
  window.scroll(0,0);
  // window.setTimeout(() => { document.querySelector("#contentframe").style.opacity = 1.0 }, 1800);
});
window.addEventListener('beforeunload', e => {
	window.scroll(0,0);
});
</script>
</html>
